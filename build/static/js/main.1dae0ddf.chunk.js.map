{"version":3,"sources":["state/user/userActionTypes.js","state/user/UserReducer.js","state/user/UserProvider.js","state/cart/cartActionTypes.js","state/cart/cartReducer.js","state/cart/CartProvider.js","components/navbar/navItem/NavItem.js","components/navbar/Navbar.js","components/stars/stars/FullStart.js","components/stars/stars/HalfStar.js","components/stars/stars/EmptyStar.js","components/stars/ProductStars.js","components/products/ProductCard/ProductCard.js","components/products/Products.js","components/searchbar/Searchbar.js","utils/constants.js","services/items.js","components/pagination/PaginationButtons/PaginationButton.js","components/pagination/Pagination.js","components/pages/home/Home.js","components/pages/deals/Deals.js","components/pages/cart/cartItem/CartItem.js","components/notifications/Notification.js","services/cart.js","components/pages/cart/Cart.js","components/pages/item_page/Item.js","components/pages/admin/Admin.js","components/pages/thankyou/Thankyou.js","services/user.js","components/pages/login/Login.js","components/pages/protected/ProtectedRoute.js","components/pages/unauthorized/unAuthorized.js","App.js","index.js"],"names":["SETUSER","UserReducer","state","action","type","data","UserContext","createContext","UserProvider","props","useReducer","dispatch","Provider","value","userState","userDispatch","children","useUserState","useContext","ADDTOCART","REMOVEFROMCART","INCREASECARTITEM","DECREASECARTITEM","SETCART","INITCART","cartInitialState","cartReducer","cartTypes","itemInCart","find","i","id","updatedItemInCart","quantity","total_price","price","filteredCartItems","filter","item","itemToAddToCart","item_number","IDToRemove","itemToIncrease","itemInCartToIncrease","indexOfItemInCartToIncrease","findIndex","map","itemInCartToDecrease","_id","indexOfItemInCartToDecrease","decreasedItemInCart","CartContext","CartProvider","dispacth","cartItems","cartDispatch","useCartState","NavItem","navName","linkTo","sign_in","className","pillNotification","length","to","exact","activeClassName","size","Navbar","history","useHistory","signInButton","name","onClick","userTypes","window","localStorage","removeItem","push","data-toggle","data-target","aria-controls","aria-expanded","aria-label","style","color","role","FullStar","width","height","viewBox","version","xmlns","stroke","strokeWidth","fill","fillRule","d","points","ProductStars","average_rating","stars","number_of_full_stars","Math","trunc","number_of_half_stars","number_of_empty_stars","HalfStar","EmptyStar","ProductCard","imgUrl","isOnSale","item_id","src","alt","Products","items","imageUrl","description","avgRating","Searchbar","handleSearch","useState","searchedItem","setSearchedItem","placeholder","onChange","target","aria-hidden","event","preventDefault","constants","PAGE_SIZE","upload","formdata","a","axios","post","response","getItem","get","fetchItemList","from","sortField","sortDir","q","params","then","NavButtons","currentPage","allPages","nextPage","prevPage","firstPage","lastPage","disabled","prototype","PropTypes","number","isRequired","func","Pagination","updatePage","page","totalItems","number_of_pages","ceil","PaginationButton","Home","setItems","isLoading","setIsLoading","setTotalItems","setPage","search","setSearch","useEffect","data_items","total","fetch_data","searchItem","Deals","deals","setDeals","response_deals","fetch_deals","deals_to_display","CartItem","notify","increaseItem","decreaseItem","remove","stockStyle","stockCount","message","class","toFixed","CartNotification","token","getCart","config","headers","authorization","console","log","cartServices","setToken","t","saveCart","cart","Cart","notification","setNotification","loggedUser","user","JSON","parse","setTimeout","updateIncreaseCartItem","updateDecreaseCartItem","saveCurrentcart","status","total_prices_array","cart_item","all_total_prices","reduce","acc","current_val","Notification","INITSTATE","Item","setItem","setItemNumber","error_displayed","setErrorMessage","addedToCartMessage","setAddedToCartMessage","useParams","cartItem","fetched_item","fetch_item","disable","disableClass","Admin","setName","setDescription","setAvgRating","setIsOnsale","setStockCount","setPrice","image","setImage","onFormSubmit","property","formData","FormData","append","htmlFor","e","min","max","checked","files","thankyou","userServices","login","credentials","Login","email","setEmail","password","setPassword","rememberMe","setRememberMe","handleLogin","userService","stringify","required","autoFocus","ProtectedRoute","Component","component","rest","render","pathname","unAuthorized","App","cartService","path","Thankyou","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1dae0ddf.chunk.js","sourcesContent":["export const SETUSER = 'SETUSER';\n","import { SETUSER } from './userActionTypes'\nexport const initialState = null\n\nexport const UserReducer = (state, action) => {\n    switch (action.type) {\n        case SETUSER:\n            return action.data\n    \n        default:\n            return state\n    }\n}","import {useContext, createContext, useReducer} from 'react'\nimport {initialState, UserReducer} from './UserReducer'\n\nconst UserContext = createContext()\n\nexport const UserProvider = (props) => {\n    const [state, dispatch] = useReducer(UserReducer, initialState)\n\n    return <UserContext.Provider value={{userState: state, userDispatch: dispatch}}>\n        {props.children}\n    </UserContext.Provider>\n}\n\nexport const useUserState = () => {\n    return useContext(UserContext)\n}","export const ADDTOCART = 'ADDTOCART';\nexport const REMOVEFROMCART = 'REMOVEFROMCART';\nexport const INCREASECARTITEM = 'INCREASECARTITEM';\nexport const DECREASECARTITEM = 'DECREASECARTITEM';\nexport const SETCART = 'SETCART';\nexport const INITCART = 'INITSTATE';","import * as cartTypes from './cartActionTypes'\n\nexport const cartInitialState = []\n\nexport const cartReducer = (state, action) => {\n    switch (action.type) {\n        case cartTypes.ADDTOCART:\n            // When Add to Cart Button is clicked to add new item to cart and that item was already inside the Cart\n            // If item in cart, find it and update its quantity\n            const itemInCart = state.find(i => i.id === action.data.id)\n            if (itemInCart) {\n                const updatedItemInCart = {\n                    ...itemInCart,\n                    quantity: itemInCart.quantity + 1,\n                    total_price: action.data.total_price + action.data.price \n                }\n                const filteredCartItems = state.filter(i => i.id !== itemInCart.id)\n                return [...filteredCartItems, updatedItemInCart]\n            } else {  // else add it to cart\n                const item = action.data\n                const itemToAddToCart = {\n                    ...item,\n                    quantity: item.item_number,\n                    total_price: item.item_number*item.price\n                }\n                return [...state, itemToAddToCart]\n            }\n\n        case cartTypes.REMOVEFROMCART:\n            const IDToRemove = action.data\n            const newCartItems = state.filter(item => item.id !== IDToRemove)\n\n            return newCartItems\n        \n        case cartTypes.INCREASECARTITEM:\n            const itemToIncrease = action.data\n            // find item in cart\n            const itemInCartToIncrease = state.find(i => i.id === itemToIncrease.id)\n            // find it's index, this is to put that item back at that index\n            const indexOfItemInCartToIncrease = state.findIndex(i => i.id === itemToIncrease.id);\n            // update the item's quantity and total price\n            const updatedItemInCart = {\n                ...itemInCartToIncrease,\n                quantity: itemInCartToIncrease.quantity + 1,\n                total_price: itemInCartToIncrease.total_price + itemInCartToIncrease.price \n            }\n            // create a new array of cart items by maintaining all the other items and replacing\n            // the item updated to it's exact index\n            const newIncreasedCartItems = state.map((item, i) =>  {\n                if (i === indexOfItemInCartToIncrease) {\n                    return updatedItemInCart\n                }\n                return item\n            })\n            return newIncreasedCartItems\n\n        case cartTypes.DECREASECARTITEM:\n            const item = action.data\n            // find item in cart\n            const itemInCartToDecrease = state.find(i => i._id === item._id)\n            // find it's index, this is to put that item back at that index\n            const indexOfItemInCartToDecrease = state.findIndex(i => i._id === item._id);\n            // update the item's quantity and total price\n            const decreasedItemInCart = {\n                ...itemInCartToDecrease,\n                quantity: itemInCartToDecrease.quantity - 1,\n                total_price: itemInCartToDecrease.total_price - itemInCartToDecrease.price \n            }\n\n            // create a new array of cart items by maintaining all the other items and replacing\n            // the item updated to it's exact index\n            const newDecreasedCartItems = state.map((item, i) =>  {\n                if (i === indexOfItemInCartToDecrease) {\n                    return decreasedItemInCart\n                }\n                return item\n            })\n\n            return newDecreasedCartItems\n\n        case cartTypes.SETCART:\n            return action.data\n\n        case cartTypes.INITCART:\n            return cartInitialState\n\n        default:\n            return state;\n    }\n}","import { createContext, useContext, useReducer } from \"react\";\nimport { cartInitialState, cartReducer } from './cartReducer'\n\nexport const CartContext = createContext()\n\nexport const CartProvider = (props) => {\n\n    const [state, dispacth] = useReducer(cartReducer, cartInitialState)\n\n    return <CartContext.Provider value={{ cartItems: state, cartDispatch: dispacth }}>\n                {props.children}\n            </CartContext.Provider>\n}\n\nexport const useCartState = () => {\n    return useContext(CartContext)\n}","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { FaCartArrowDown } from 'react-icons/fa';\nimport { useCartState } from '../../../state/cart'\n\nimport './navItem.css'\n\n\nconst NavItem = ({navName, linkTo, sign_in}) => {\n    const {cartItems} = useCartState()\n\n    let className = \"nav-item mx-2\"\n    if (sign_in) {\n        className = className + \" sign_in\"\n    }\n    if (navName === 'Cart') {\n\n        const pillNotification = cartItems.length !== 0 ? <div className=\"icon-tag\">{cartItems.length}</div> : null\n        \n        return <li className={className}>\n                <NavLink\n                    id=\"cart\"\n                    to={linkTo}\n                    exact \n                    className=\"nav-link text-white font-weight-bold icon-block\" \n                    activeClassName=\"active\">\n                    {navName}  <FaCartArrowDown size={25} />\n                    {pillNotification}\n                </NavLink>\n            </li>\n    }\n    if (navName === 'Admin') {\n        \n        return <li className={`${className}`}>\n                <NavLink \n                    to={linkTo}\n                    exact \n                    className=\"nav-link text-white font-weight-bold admin\">\n                    {navName}\n                </NavLink>\n            </li>\n    }\n    return <li className={className}>\n                <NavLink \n                    to={linkTo}\n                    exact \n                    className=\"nav-link text-white font-weight-bold\" \n                    activeClassName=\"active\">\n                    {navName}\n                </NavLink>\n            </li>\n}\n\nexport default NavItem","import React from \"react\";\nimport { Link, useHistory } from 'react-router-dom'\nimport { FaBars } from 'react-icons/fa';\nimport { useUserState, userTypes } from '../../state/user'\nimport { useCartState, cartTypes } from '../../state/cart'\nimport NavItem from './navItem/NavItem'\nimport './navbar.css'\n\nconst Navbar = () => {\n    const {userState, userDispatch} = useUserState()\n    const { cartDispatch} = useCartState()\n    \n    const history = useHistory()\n\n    const handleLogout = () => {\n        userDispatch({type: userTypes.SETUSER, data: null})\n        cartDispatch({type: cartTypes.INITCART})\n        window.localStorage.removeItem('loggedUser')\n        history.push('/login')\n    }\n\n    const signInButton = userState === null\n        ? <NavItem sign_in navName=\"Sign In\" linkTo='/login' />\n        : <div className=\"px-4 m-0 text-white\">\n            <div>{userState.name}</div>\n            <div className=\"logout\" onClick={handleLogout}>logout</div>\n          </div>\n\n    return (\n        <nav className=\"navbar navbar-expand-md navbar-light py-2 head_bar\">\n            <button className=\"navbar-toggler text-white\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarToggler\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <FaBars className=\"navbar-toggler-icon\" style={{color:\"white\"}} />\n            </button>\n            <Link to='/' className=\"navbar-brand display-1 text-white font-weight-bolder\">Super Store</Link>\n\n            <div className=\"collapse navbar-collapse\" id=\"navbarToggler\">\n                <ul className=\"navbar-nav ml-auto\">\n                    <NavItem navName=\"Home\" linkTo='/' />\n                    <NavItem navName=\"Deals\" linkTo='/deals' />\n                    <NavItem navName=\"Cart\" linkTo='/cart' />\n                    {userState && userState.role === 'admin' ? <NavItem navName=\"Admin\" linkTo='/admin'>Admin</NavItem> : null}\n                    {signInButton}\n                </ul>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar","import React from 'react'\n\nconst FullStar = () => {\n    return (\n            <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n                <title>star-full</title>\n                <desc>Created with Sketch.</desc>\n                <g id=\"star-full\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                    <path d=\"M31.4885496,3.11613455 L22.2702274,21.5136178 L1.67622723,24.4611015 L16.5775637,38.7678904 L13.0578457,58.980827 L31.4885496,49.4369407 L49.9192536,58.980827 L46.3995355,38.7678904 L61.300872,24.4611015 L40.7068718,21.5136178 L31.4885496,3.11613455 Z\" id=\"Star\" stroke=\"#E7B811\" fill=\"#F6C415\"></path>\n                </g>\n            </svg>\n    )\n}\n\nexport default FullStar","import React from 'react'\n\nconst FullStar = () => {\n    return (\n            <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n                <title>Artboard</title>\n                <desc>Created with Sketch.</desc>\n                <g id=\"Artboard\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                    <polygon id=\"Star\" fill=\"#F6C415\" points=\"32 50.2781955 13.1908719 60.0180394 16.7830957 39.3887189 1.56619148 24.7789531 22.595436 21.7691758 32 3\"></polygon>\n                    <path d=\"M32,4.11613455 L22.9252589,22.2270655 L2.65231591,25.1285984 L17.3213333,39.2123374 L13.8564583,59.1103226 L32,49.7151362 L50.1435417,59.1103226 L46.6786667,39.2123374 L61.3476841,25.1285984 L41.0747411,22.2270655 L32,4.11613455 Z\" id=\"Star-Copy-4\" stroke=\"#E7B811\"></path>\n                </g>\n            </svg>\n    )\n}\n\nexport default FullStar","import React from 'react'\n\nconst FullStar = () => {\n    return (\n            <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 64 64\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n                <title>star-empty</title>\n                <desc>Created with Sketch.</desc>\n                <g id=\"star-empty\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                    <path d=\"M32,4.11613455 L22.9252589,22.2270655 L2.65231591,25.1285984 L17.3213333,39.2123374 L13.8564583,59.1103226 L32,49.7151362 L50.1435417,59.1103226 L46.6786667,39.2123374 L61.3476841,25.1285984 L41.0747411,22.2270655 L32,4.11613455 Z\" id=\"Star-Copy-4\" stroke=\"#E7B811\"></path>\n                </g>\n            </svg>\n    )\n}\n\nexport default FullStar","import React from 'react'\r\n\r\nimport FullStar from './stars/FullStart'\r\nimport HalfStar from './stars/HalfStar'\r\nimport EmptyStar from './stars/EmptyStar'\r\n\r\nconst ProductStars = ({average_rating}) => {\r\n    const stars = []\r\n\r\n    const number_of_full_stars = Math.trunc(average_rating)\r\n    const number_of_half_stars = average_rating % 1 > 0 ? 1 : 0\r\n    const number_of_empty_stars = 5 - (number_of_full_stars+number_of_half_stars)\r\n\r\n    for (let i = 0; i < number_of_full_stars; i++) {\r\n        stars.push(<FullStar key={`full_star_${i}`}/>)\r\n    }\r\n    for (let i = 0; i < number_of_half_stars; i++) {\r\n        stars.push(<HalfStar key={`half_star_${i}`}/>)\r\n    }\r\n    for (let i = 0; i < number_of_empty_stars; i++) {\r\n        stars.push(<EmptyStar key={`empty_star_${i}`}/>)\r\n    }\r\n\r\n    return stars\r\n}\r\n\r\nexport default ProductStars","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom'\n\nimport ProductStars from '../../stars/ProductStars'\n\nimport './ProductCard.css'\n\n\nconst ProductCard = ({imgUrl, price, name, average_rating, isOnSale, item_id}) => {\n\n    return (\n        <div className=\"card\">\n            <img className=\"card-img-top img center\" src={imgUrl} alt={name} />\n            <div className=\"card-body\">\n                <p className=\"mb-0\"><Link to={`item/${item_id}`}>{name}</Link></p>\n                <ProductStars average_rating={average_rating} />\n                <div>\n                    <p className=\"card-text\">\n                        <strong>\n                            ${price}\n                            { isOnSale && <span className=\"onSale ml-2\">On Sale</span>}\n                        </strong>\n                    </p>\n                </div>\n            </div>\n            <div className='row mb-3'>\n            <Link to={`item/${item_id}`} className=\"btn btn-primary center\">View Item</Link></div>\n        </div>\n    )\n}\n\nProductCard.propTypes = {\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    imgUrl: PropTypes.string.isRequired,\n    average_rating: PropTypes.number,\n    isOnSale: PropTypes.bool\n}\n\nexport default ProductCard","import React from 'react'\n\nimport ProductCard from './ProductCard/ProductCard'\nimport './products.css'\n\nconst Products = ({items}) => {\n\n    return (\n        <div className=\"container mt-5\">\n            <div className=\"row\">\n                {items.map(item => {\n                    return (\n                        <div className=\"col-md-4 col-sm-6 my-3\" key={item.id}>\n                            <ProductCard\n                                    name={item.name}\n                                    imgUrl={item.imageUrl} \n                                    description={item.description} \n                                    price={item.price}\n                                    average_rating={item.avgRating}\n                                    isOnSale={item.isOnSale}\n                                    item_id={item.id}\n                                />\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default Products","import React, { useState } from 'react'\n\nimport { BsSearch } from 'react-icons/bs';\n\nimport './searchbar.css'\n\n\nconst Searchbar = ({handleSearch}) => {\n    const [searchedItem, setSearchedItem] = useState('')\n\n    const search = (event) => {\n        event.preventDefault()\n        handleSearch(searchedItem)\n    }\n\n    const changeHandler = ({target}) => {\n        setSearchedItem(target.value)\n        if (target.value === '') {\n            handleSearch('')\n        }\n    }\n\n    return <div className=\"row search\">\n                <div className=\"col-sm-3 offset-sm-4 mt-3 mb-2\">\n                    <div className=\"input-group md-form form-sm form-2 pl-0\">\n                        <input \n                            className=\"form-control my-0 py-1 amber-border\" \n                            type=\"search\" \n                            placeholder=\"Search\" \n                            aria-label=\"Search\"\n                            onChange={changeHandler} />\n                        <div className=\"input-group-append\">\n                            <span \n                                className=\"input-group-text amber lighten-3  bg-warning\" \n                                id=\"basic-text1\">\n                                <i className=\"fas fa-search text-grey\" aria-hidden=\"true\" onClick={search}><BsSearch /></i>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n}\n\nexport default Searchbar","const PAGE_SIZE = 6\n\nconst constants = { PAGE_SIZE }\n\nexport default constants","import axios from 'axios'\nimport constants from '../utils/constants'\n\nconst baseUrl = '/'\n\nexport const upload = async (formdata) => {\n    const response = await axios.post(`${baseUrl}item/upload`, formdata)\n    return response.data\n}\n\nexport const getItem = async (id) => {\n    const response = await axios.get(`${baseUrl}item/${id}`)\n    return response.data\n}\n\nfunction fetchItemList({ from, size, sortField, sortDir, isOnSale, q }) {\n\n    return axios\n        .get(`${baseUrl}item/list`, {\n            params: {\n                from,\n                size: constants.PAGE_SIZE,\n                sortField,\n                sortDir,\n                isOnSale,\n                q,\n            },\n        })\n        .then((response) => response.data);\n}\n\n\n// const services = { getAllItems, getDeals, getItem, upload }\n\nexport default fetchItemList","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport './paginationButton.css'\n\nconst NavButtons = ({currentPage, allPages, nextPage, prevPage, firstPage, lastPage}) => {\n\n    return (\n        <div className=\"pagination-button text-center mb-4 mt-4\">\n            <button className=\"mx-3\"  onClick={() => firstPage()} disabled={currentPage===1}>First</button>\n            <button onClick={() => prevPage()} disabled={currentPage===1}> &lt; </button>\n            <span className=\"mx-3\">{allPages ? currentPage:null} - {allPages ? allPages:null}</span>\n            <button onClick={() => nextPage()} disabled={currentPage===allPages}> &gt; </button>\n            <button className=\"mx-3\"  onClick={() => lastPage()} disabled={currentPage===allPages}>Last</button>\n        </div>\n    )\n}\n\nNavButtons.prototype = {\n    currentPage: PropTypes.number.isRequired,\n    allPages: PropTypes.number.isRequired,\n    nextPage: PropTypes.func.isRequired,\n    prevPage: PropTypes.func.isRequired\n}\n\nexport default NavButtons ","import React from 'react'\n\nimport PaginationButton from './PaginationButtons/PaginationButton'\n\nconst PAGE_SIZE = 6\n\nconst Pagination = ({updatePage, page, totalItems}) => {\n\n    const number_of_pages = Math.ceil(totalItems/PAGE_SIZE)\n\n    // console.log(page, totalItems);\n\n    const handleNextPage = () => {\n        updatePage(page+1)\n    }\n\n    const handlePreviousPage = () => {\n        updatePage(page - 1)\n    }\n\n    const handleFirstPage = () => {\n        updatePage(1)\n    }\n\n    const handleLastPage = () => {\n        updatePage(number_of_pages)\n    }\n\n    return (\n        <PaginationButton \n            currentPage={page} \n            allPages={number_of_pages}\n            nextPage={handleNextPage}\n            prevPage={handlePreviousPage}\n            firstPage={handleFirstPage}\n            lastPage={handleLastPage}\n        />\n    )\n}\n\nexport default Pagination","import React, { useState, useEffect } from 'react'\nimport Products from '../../products/Products'\nimport SearchBar from '../../searchbar/Searchbar'\nimport fetchItemList from '../../../services/items'\n\n\nimport './home.css'\nimport Pagination from '../../pagination/Pagination'\nimport constants from '../../../utils/constants'\n\nconst Home = () => {\n    const [items, setItems] = useState([])\n    const [isLoading, setIsLoading] = useState(true)\n    const [totalItems, setTotalItems] = useState(null)\n    const [page, setPage] = useState(1)\n    const [search, setSearch] = useState('')\n\n    // eslint-disable-next-line\n    useEffect(() => {\n        // fetches for all the data in the backend\n        const fetch_data = async () => {\n            // Calculate the \"from\" of the query params \n            const request_from = (page - 1) * constants.PAGE_SIZE\n            const params = {\n                from: request_from,\n                q: search,\n                isOnSale: false\n            }\n            // Get the items of the backend for the current page\n            // const data_items = await fetchItemList(params)\n            const data_items = await fetchItemList(params)\n            // Set number of pages in pagination\n            setTotalItems(data_items.total)\n            setItems(data_items.items)\n            setIsLoading(false)\n        }\n\n        fetch_data()\n    }, [page, search])\n\n    // called when a user does a search with the searchBar component\n    const handleSearch = async (searchItem) => {\n        if (searchItem === '') {\n            setSearch('')\n            setPage(1)\n        } else {\n            setPage(1)\n            setSearch(searchItem)\n        }  \n    }\n\n    const updatePage = (page) => {\n        setPage(page)\n    }\n\n    return (\n        <div className=\"container-fluid\">\n            <SearchBar handleSearch={handleSearch}/>\n            {items.length === 0 && !isLoading ? <h3 className=\"no-item\">No items matched your search</h3> : <Products items={items}/>}\n            <Pagination updatePage={updatePage} page={page} totalItems={totalItems} />\n        </div>\n        \n    )\n}\n\nexport default Home","import React, { useState, useEffect } from 'react'\n\nimport fetchItemList from '../../../services/items'\nimport ProductsOnDeals from '../../products/Products'\nimport SearchBar from '../../searchbar/Searchbar'\n\nimport './deals.css'\nimport Pagination from '../../pagination/Pagination'\nimport constants from '../../../utils/constants'\n\nconst Deals = () => {\n    const [deals, setDeals] = useState([])\n    const [isLoading, setIsLoading] = useState(true)\n    const [totalItems, setTotalItems] = useState(null)\n    const [page, setPage] = useState(1)\n    const [search, setSearch] = useState('')\n\n    useEffect(() => {\n        const fetch_deals = async () => {\n            // Calculate the \"from\" of the query params \n            const request_from = (page - 1) * constants.PAGE_SIZE\n            // Query made to look for deals and from a certain number\n            const params = {\n                isOnSale: true,\n                from: request_from,\n                q:search\n            }\n            const response_deals = await fetchItemList(params)\n            // Set the received deals\n            setDeals(response_deals.items)\n            // set number of pages\n            setTotalItems(response_deals.total)\n            \n            setIsLoading(false)\n        }\n\n        fetch_deals()\n    }, [page, search])\n\n    // called when a user does a search with the searchBar component\n    const handleSearch = async (searchItem) => {\n        if (searchItem === '') {\n            setSearch('')\n        } else {\n            setSearch(searchItem)\n        } \n    }\n\n    const updatePage = (page) => {\n        setPage(page)\n    }\n\n    // If it's no more loading but the deals state still has length 0, there are no deals in the backend\n    const deals_to_display = isLoading === false && deals.length === 0 ? <div className=\"noDeals\"><h1>No Deals available at the moment</h1></div> : <ProductsOnDeals items={deals}/>\n\n    return (\n            <div>\n                <SearchBar handleSearch={handleSearch}/>\n                <div className=\"row\">\n                    {deals.length === 0 && !isLoading ? <h3 className=\"no-item\">No Deals matched your search</h3> : deals_to_display}\n                </div>\n                <Pagination updatePage={updatePage} page={page} totalItems={totalItems} />\n            </div>\n    )\n}\n\nexport default Deals","import React from 'react'\nimport './cartItem.css'\n\nconst CartItem = ({item, notify, increaseItem, decreaseItem, remove}) => {\n\n    const increase_quantity = () => {\n        if (item.quantity === item.stockCount) {\n            notify({\n                message: 'Insufficient stock!',\n                class: 'alert alert-danger'\n            })\n        } else {\n            if (item.quantity <= item.stockCount && item.quantity > 0) {\n                notify('')\n            }\n            increaseItem(item)\n        }\n    }\n\n    const decrease_quantity = () => {\n        if (item.quantity <= 1) {\n            notify({\n                message: 'Invalid number of items',\n                class: 'alert alert-danger'\n            })\n        } else {\n            if (item.quantity <= item.stockCount && item.quantity > 0) {\n                notify('')\n            }\n            decreaseItem(item)\n        }\n    }\n\n    const stockStyle = item.stockCount < 1 ? \"bg-danger \" : \"bg-success \"\n\n    return (\n        <li>\n            <div className=\"row cart-border row-sm-4\">\n                <div className=\"col-xs-4 d-flex justify-content-center col-sm-4 col-md-4 col-lg-3 px-sm-3\">\n                    <img className=\"card-img-top img center cart-img\" src={item.imageUrl} alt={item.name} />\n                </div>\n                <div className=\"col-xs-4 col-sm-4 col-md-4 col-lg-4 px-sm-3\">\n                    <div className=\"row p-2\"><strong>{item.name}</strong></div>\n                    <div className=\"row px-2\">Available in stock: <span className={stockStyle + \"px-3 text-white\"}>{item.stockCount}</span></div>\n                    <div className=\"row p-2\">\n                        <div className=\"col\">Quantity: <span className=\"quantity text-white py-1\">{item.quantity}</span></div>\n                        <div className=\"col\"><span className=\"text-primary button\" onClick={() => remove(item.id)}>Remove</span></div>\n                    </div>\n                    <div className=\"row py-2\">\n                        <button className=\"ml-4 bg-primary control_btn\" onClick={decrease_quantity}>-</button>\n                        <button className=\"ml-3 bg-primary control_btn\" onClick={increase_quantity}>+</button>\n                    </div>\n                </div>\n                <div className=\"col-xs-4 col-sm-4 col-md-4 col-lg-5 px-sm-3\">\n                    <div className=\"d-flex justify-content-end\"><h4><strong>${item.total_price.toFixed(2)}</strong></h4></div>\n                </div>\n            </div>\n        </li>\n    )\n}\n\nexport default CartItem","import React from 'react'\n\nconst CartNotification = ({message}) => {    \n    return <div className=\"text-center\">{message}</div>\n}\n\nexport default CartNotification","import axios from 'axios'\n\nconst baseUrl = '/'\n\nlet token = null\n\nconst setToken = (t) => {\n    token = t\n}\n\nconst getCart = async () => {\n    const config = {\n        headers: { authorization: `bearer ${token}`}\n    }\n    console.log('config', config);\n    const response = await axios.get(`${baseUrl}cart`, config)\n    return response.data\n}\n\nconst saveCart = async (cart) => {\n    const config = {\n        headers: { authorization: `bearer ${token}`}\n    }\n    console.log('config', config);\n    const response = await axios.post(`${baseUrl}cart/`, cart, config)\n    return response\n}\n\nconst cartServices = { setToken, saveCart, getCart }\n\nexport default cartServices","import React, { useState, useEffect } from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport {useCartState, cartTypes} from '../../../state/cart'\nimport CartItem from './cartItem/CartItem'\nimport Notification from '../../notifications/Notification'\nimport cartServices from '../../../services/cart'\nimport './cart.css'\n\nconst Cart = () => {\n    const {cartItems, cartDispatch} = useCartState()\n    const [notification, setNotification] = useState({})\n\n    useEffect(() => {\n        const loggedUser = window.localStorage.getItem('loggedUser')\n        if (loggedUser) {\n            const user = JSON.parse(loggedUser)\n            cartDispatch({type: cartTypes.SETCART, data: user.cart})\n            cartServices.setToken(user.token)\n        }\n        if (cartItems.length === 0 && loggedUser === null) {\n            notify({\n                message: \"Cart empty for now\",\n                class: \"alert alert-danger\"\n            })\n        }\n    }, [cartDispatch, cartItems.length])\n    \n    const notify = (notification) => {\n        setNotification(notification)\n        setTimeout(() => {\n            setNotification({})\n        }, 5000)\n    }\n\n    const history = useHistory()\n\n    const updateIncreaseCartItem = (item) => {\n        // Dispatch here to increase item in cart\n        cartDispatch({type: cartTypes.INCREASECARTITEM, data: item})\n    }\n\n    const updateDecreaseCartItem = (item) => {\n        // Dispatch here to decrease item in cart\n        cartDispatch({type: cartTypes.DECREASECARTITEM, data: item})\n\n    }\n\n    const remove =(id) => {\n        //Dispatch here\n        cartDispatch({type: cartTypes.REMOVEFROMCART, data: id})\n\n    }\n\n    const checkout = () => {\n        cartDispatch({type: cartTypes.INITSTATE})\n        history.push('/thankyou')\n    }\n\n    const saveCurrentcart = async () => {\n        const response = await cartServices.saveCart(cartItems)\n        if (response.status === 204) {\n            notify({\n                message: \"Cart saved succesfully\",\n                class: \"alert alert-success\"\n            })\n        }\n    }\n\n    // Extract all total prices and compute the total price for all items in the cart\n    const total_prices_array = cartItems.map(cart_item => cart_item.total_price)\n    const all_total_prices = total_prices_array.length !== 0 ? total_prices_array.reduce((acc, current_val) => acc + current_val) : null\n\n    return (<div className=\"row\">\n                <div className=\"col\">\n                    {notification ? <div className=\"row\">\n                                                <div className={`col-sm-6 offset-sm-3 ${notification.class}`} role=\"alert\">\n                                                    <Notification message={notification.message} />\n                                                </div>\n                                            </div> : null}\n                    <div className=\"row\">\n                        <div className=\"col py-5 mx-4\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-8 offset-sm-2 p-0\">\n                                    <h1 className=\"py-5\">Shopping Cart</h1>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-xs-8 offset-xs-2 col-sm-10 offset-sm-1 col-md-8 offset-md-2\">\n                                    <ul className=\"list-group cart-list\">\n                                        {cartItems.map(item => {\n                                            return <CartItem\n                                                        key={item.id}\n                                                        item={item}\n                                                        notify={notify}\n                                                        increaseItem={updateIncreaseCartItem}\n                                                        decreaseItem={updateDecreaseCartItem}\n                                                        remove={remove}>{item.name}\n                                                    </CartItem>\n                                        })}\n                                    </ul>\n                                </div>\n                            </div>\n                            <div className=\"row\">\n                                <div className=\"col-xs-8 offset-xs-2 col-sm-10 offset-sm-1 col-md-8 offset-md-2\">\n                                    <div className=\"row py-5\">\n                                        <div className=\"col\"><button className=\"btn btn-lg checkout-btn\" onClick={checkout}><strong>Checkout</strong></button></div>\n                                        <div className=\"col\"><button className=\"btn btn-lg saveCart-btn\" onClick={saveCurrentcart}><strong>Save cart</strong></button></div>\n                                        <div className=\"col d-flex justify-content-end \"><h4><strong>Total: ${all_total_prices}</strong></h4></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>)\n}\n\nexport default Cart","import React, { useState, useEffect } from \"react\";\nimport { useCartState, cartTypes } from '../../../state/cart' \nimport { useParams } from 'react-router-dom'\n\nimport { getItem } from '../../../services/items'\nimport ProductStars from '../../stars/ProductStars'\nimport Notification from '../../notifications/Notification'\nimport './item.css'\n\nconst Item = () => {\n    const {cartItems, cartDispatch} = useCartState()\n    const [item, setItem] = useState({})\n    const [item_number, setItemNumber] = useState(1)\n    const [error_displayed, setErrorMessage] = useState('')\n    const [addedToCartMessage, setAddedToCartMessage] = useState(false)\n\n    let params = useParams()\n\n\n    const itemInCart = cartItems.find(cartItem => {\n        return cartItem.id === item.id\n    })\n\n\n\n    useEffect(() => {\n        const fetch_item = async () => {\n            const fetched_item = await getItem(params.id)\n            setItem(fetched_item)\n        }\n        fetch_item()\n    }, [params.id])\n\n    useEffect(() => {\n        if (item.stockCount < 1) {\n            setErrorMessage('Item no longer in stock')\n        }\n    }, [item.stockCount]) \n\n    const increase_quantity = () => {\n        if (item_number === item.stockCount) {\n            setErrorMessage('Insufficient stock!')\n        } else {\n            if (item_number <= item.stockCount && item_number > 0) {\n                setErrorMessage('')\n            }\n            setItemNumber(item_number+1)\n        }\n    }\n\n    const decrease_quantity = () => {\n        if (item_number <= 1) {\n            setErrorMessage('Invalid number of items')\n        } else {\n            if (item_number <= item.stockCount && item_number > 0) {\n                setErrorMessage('')\n            }\n            setItemNumber(item_number-1)\n        }\n    }\n    const addToCart = () => {\n        // Dispatch here\n        cartDispatch({type: cartTypes.ADDTOCART, data: {...item, item_number}})\n        setAddedToCartMessage(true)\n        setItem({...item, stockCount: item.stockCount-item_number})\n        setTimeout(() => {\n            setAddedToCartMessage(false)\n        }, 5000);\n    }\n\n    const stockStyle = item.stockCount < 1 ? \"bg-danger \" : \"bg-success \"\n\n    // disable the button if stockCount is 0\n    const disable = item.stockCount === 0 ? true : false\n    const disableClass = item.stockCount === 0 ? 'disable-btn' : 'enable-btn'\n\n    return (\n        <div className='col'>\n            <div className='row text-center'>\n                {addedToCartMessage && \n                    <div className=\"col-md-6 offset-md-3 alert alert-success\" role=\"alert\">\n                        <Notification message={`Added ${item_number} ${item.name} to Cart`} />\n                    </div>\n                }\n            </div>\n            <div className='row item'>\n                <div className=\"col-sm image_wrapper\">\n                    <img className=\"float-sm-right mt-4\" src={item.imageUrl} alt={item.name}/>\n                </div>\n                <div className=\"col-sm description\">\n                    <p><strong>{item.name}</strong></p>\n                    <div><ProductStars average_rating={item.avgRating} /></div>\n                    <hr className=\"line\"></hr>\n                    <p>{item.description}</p>\n                    <p className=\"my-3\"><strong>${item.price}</strong></p>\n                    <div className=\"my-3\">Available in stock: <span className={stockStyle + \"px-3 py-1 text-white\"}>{item.stockCount}</span></div>\n                    <div>Quantity: <span className=\"quantity text-white\">{item_number}</span></div>\n                    <div className=\"my-3\">\n                        <button className=\"ml-4 bg-primary\" onClick={decrease_quantity}>-</button>\n                        <button className=\"ml-3 bg-primary\" onClick={increase_quantity}>+</button>\n                    </div>\n                    <div className=\"my-3\"><button className={disableClass} onClick={addToCart} disabled={disable}>Add to Cart</button></div>\n                    {error_displayed && <div className=\"alert alert-danger\" role=\"alert\"><Notification message={error_displayed} /></div>}\n                    {itemInCart && <div className=\"available_in_cart\">1 of this item is currently in your cart</div>}\n                </div>\n            </div>\n        </div>\n    )\n    \n}\n\nexport default Item","import React, { useState } from 'react'\nimport Notification from '../../notifications/Notification'\nimport { upload } from '../../../services/items'\n\nconst Admin = () => {\n    const [name, setName] = useState('')\n    const [description, setDescription] = useState('')\n    const [avgRating, setAvgRating] = useState(null)\n    const [isOnSale, setIsOnsale] = useState(false)\n    const [stockCount, setStockCount] = useState(null)\n    const [price, setPrice] = useState(null)\n    const [image, setImage] = useState(null)\n    const [notification, setNotification] = useState(null)\n\n    const onFormSubmit = async (event) => {\n        event.preventDefault()\n        const item = {\n            name: name,\n            description: description,\n            avgRating: avgRating,\n            isOnSale: isOnSale,\n            stockCount: stockCount,\n            price: price,\n            image: image\n        }\n\n        // creating the form\n        const formData = new FormData();\n\n        for (const property in item) {\n            formData.append(property, item[property])\n        }\n\n        await upload(formData)\n        setNotification({message: \"Item saved successfully\", class: \"alert alert-success\"})\n        setTimeout(() => {\n            setNotification({})\n        }, 5000)\n    }\n\n    return (\n        <div className='container'>\n            {notification ? <div className=\"row\">\n                                <div className={`col-sm-6 offset-sm-3 ${notification.class}`} role=\"alert\">\n                                    <Notification message={notification.message} />\n                                </div>\n                            </div> \n                           : null\n            }\n            <h2 className=\"my-5 text-center\">Here is the admin to manage products</h2>\n            <div><h4>Create New Product</h4></div>\n            <form className=\"p-5 border border-primary\" id=\"form\">\n                <div className=\"form-group row\">\n                    <label htmlFor=\"name\" className=\"col-sm-2 col-form-label\">Products's Name</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Name the item here\" onChange={(e) => setName(e.target.value)} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label htmlFor=\"description\" className=\"col-sm-2 col-form-label\">Description</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"text\" className=\"form-control\" id=\"description\" placeholder=\"Describe the item\"  onChange={(e) => setDescription(e.target.value)} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label htmlFor=\"rating\" className=\"col-sm-2 col-form-label\">Rating</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"number\" id=\"rating\" name=\"rating\" min=\"1\" max=\"5\"  onChange={(e) => setAvgRating(e.target.value)} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label htmlFor=\"isOnSale\" className=\"col-sm-2 col-form-label\">On Sale</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"checkbox\" id=\"isOnSale\" name=\"onSale\"  onClick={(e) => setIsOnsale(e.target.checked)} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label htmlFor=\"stockCount\" className=\"col-sm-2 col-form-label\">Stock count</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"number\" id=\"stockCount\" name=\"stockCount\" min='1' max='2000'  onChange={(e) => setStockCount(e.target.value)} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label htmlFor=\"price\" className=\"col-sm-2 col-form-label\">Price</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"number\" id=\"price\" name=\"stockCount\"  onChange={(e) => setPrice(e.target.value)} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <label htmlFor=\"image\" className=\"col-sm-2 col-form-label\">Price</label>\n                    <div className=\"col-sm-6\">\n                        <input type=\"file\" id=\"image\" name=\"item\" onChange={(e) => setImage(e.target.files[0])} />\n                    </div>\n                </div>\n                <div className=\"form-group row\">\n                    <div className=\"col-sm-10 offset-sm-2\">\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={onFormSubmit}>Submit</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Admin","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './thankyou.css'\n\nconst thankyou = () => {\n    return <div className=\"container thankyou-message\">\n        <div className='row center'>\n            <h1>Thank you for your purchase!</h1>\n        </div>\n        <div className='row center message'>\n            Your order will be on its way shortly. In the mean time, please feel free to continue shopping!\n        </div>\n        <div className='row center return-home'>\n            <Link to='/'>Return to Home</Link>\n        </div>\n    </div>\n}\n\nexport default thankyou","import axios from 'axios'\n\nconst baseUrl = '/'\n\nconst login = async (credentials) => {\n    const response = await axios.post(`${baseUrl}login`, credentials)\n    return response.data\n}\n\nconst userServices = {login}\n\nexport default userServices","import React, {useState} from 'react'\nimport {useUserState, userTypes} from '../../../state/user'\nimport {useCartState, cartTypes} from '../../../state/cart'\nimport Notification from '../../notifications/Notification'\nimport { Link } from 'react-router-dom'\nimport userService from '../../../services/user'\nimport cartServices from '../../../services/cart'\n\nimport './login.css'\nimport { useHistory } from 'react-router'\n\nconst Login = () => {\n\n    const { cartDispatch} = useCartState()\n    const { userDispatch} = useUserState()\n    const [notification, setNotification] = useState({})\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [rememberMe, setRememberMe] = useState(false)\n\n\n    const history = useHistory()\n\n    const notify = (notification) => {\n        setNotification(notification)\n        setTimeout(() => {\n            setNotification({})\n        }, 5000)\n    }\n\n    const handleLogin = async (event) => {\n        event.preventDefault()\n        try {\n            const user = await userService.login({email, password})\n            cartServices.setToken(user.token)\n            const cart = await cartServices.getCart(user.token)\n            if (rememberMe) {\n                user.cart = cart\n                window.localStorage.setItem('loggedUser', JSON.stringify(user))   \n            }\n            userDispatch({type: userTypes.SETUSER, data: user})\n            cartDispatch({type: cartTypes.SETCART, data: cart})\n            setEmail('')\n            setPassword('')\n            history.push('/')\n            \n        } catch (error) {\n            console.log(error);\n            notify({\n                message: \"Invalid username or password\",\n                class: \"alert alert-danger\"\n            })\n        }\n    }\n\n    return (\n        <div className=\"container signin\">\n        {notification ? <div className=\"row\">\n                                                <div className={`col-sm-6 offset-sm-3 ${notification.class}`} role=\"alert\">\n                                                    <Notification message={notification.message} />\n                                                </div>\n                                            </div> : null}\n            <form className=\"form-signin\">\n                <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n                <label htmlFor=\"inputEmail\" className=\"sr-only\">Email address</label>\n                    <input \n                        type=\"email\" \n                        id=\"inputEmail\" \n                        className=\"form-control\" \n                        placeholder=\"Email address\" \n                        required autoFocus\n                        onChange={(e) => setEmail(e.target.value)}\n                        />\n                <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\n                    <input \n                        type=\"password\" \n                        id=\"inputPassword\" \n                        className=\"form-control\" \n                        placeholder=\"Password\" \n                        required \n                        onChange={(e) => setPassword(e.target.value)}\n                        />\n                <div className=\"checkbox mb-3\">\n                    <label>\n                        <input type=\"checkbox\" value=\"remember-me\" onChange={() => {setRememberMe(true)}}/> Remember me\n                    </label>\n                </div>\n                <button id=\"login-button\" className=\"btn btn-lg btn-primary btn-block\" type=\"submit\" onClick={handleLogin}>Sign in</button>\n            </form>\n\n            <div className=\"m-2\"><small>Don't yet have an account ? <Link to='/signup'>Sign up</Link> here</small></div>\n        </div>\n    )\n}\n\nexport default Login","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst ProtectedRoute = ({component: Component, user, ...rest}) => {\n\n    if (!user) {\n        return <Redirect to={\n            {\n              pathname: '/login'\n            }\n        } />\n    } else if (user.role === \"admin\") {\n        return (\n            <Route {...rest} render={\n                props => <Component {...rest} {...props} />\n            }></Route>\n        )\n    } else {\n        return <Redirect to={\n            {\n              pathname: '/unauthorized',\n            }\n        } />\n    }\n}\n\nexport default ProtectedRoute","import React from 'react'\n\nconst unAuthorized = () => {\n\n    return (\n        <div className=\"container\">\n            <h2 className=\"mx-auto\">Only administrators are authorized to come here</h2>\n        </div>\n    )\n}\n\nexport default unAuthorized","import React, {useEffect} from 'react'\nimport {BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport Navbar from './components/navbar/Navbar'\nimport './App.css';\nimport Home from './components/pages/home/Home'\nimport Deals from './components/pages/deals/Deals'\nimport Cart from './components/pages/cart/Cart'\nimport Item from './components/pages/item_page/Item'\nimport Admin from './components/pages/admin/Admin' \nimport Thankyou from './components/pages/thankyou/Thankyou'\nimport Login from './components/pages/login/Login'\nimport { useUserState, userTypes } from './state/user'\nimport { useCartState, cartTypes } from './state/cart';\nimport cartService from './services/cart'\nimport ProtectedRoute from './components/pages/protected/ProtectedRoute'\nimport UnAuthorized from './components/pages/unauthorized/unAuthorized'\n\nconst App = () => {\n  // Using states here to set them from local storage when the opens the app\n  const { userState,  userDispatch } = useUserState()\n  const { cartDispatch } = useCartState()\n\n  useEffect(() => {\n    const loggedUser = window.localStorage.getItem('loggedUser')\n    if (loggedUser) {\n      const user = JSON.parse(loggedUser)\n      userDispatch({type: userTypes.SETUSER, data: user})\n      cartDispatch({type: cartTypes.SETCART, data: user.cart})\n      // set the user's token for making requests to backend\n      cartService.setToken(user.token)\n    }\n  }, [userDispatch, cartDispatch])\n\n  return (\n        <div>\n          <Router>\n            <Navbar />\n            <Switch>\n              <Route exact path='/'>\n                <Home />\n              </Route>\n              <Route path='/deals'>\n                <Deals />\n              </Route>\n              <Route path='/cart'>\n                <Cart />\n              </Route>\n              <Route path='/item/:id'>\n                <Item />\n              </Route>\n\n              <ProtectedRoute path='/admin' user={userState} component={Admin} />\n\n              <Route path='/thankyou'>\n                <Thankyou />\n              </Route>\n              <Route path='/login'>\n                <Login />\n              </Route>\n              <Route path='/unauthorized'>\n                <UnAuthorized />\n              </Route>\n            </Switch>\n          </Router>\n        </div>   \n  );\n}\n\nexport default App;\n","import 'bootstrap/dist/css/bootstrap.min.css';\n// import $ from 'jquery';\n// import Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { CartProvider } from './state/cart'\nimport { UserProvider } from './state/user'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <CartProvider>\n      <UserProvider>\n        <App />\n      </UserProvider>\n     </CartProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}